p39~p41

![](../../assets/2021-12-05-18-15-56.png)

自定义事件Attack01 远程攻击 新建变量是否正在攻击IsAttacking

希望攻击状态下 平滑朝向攻击的角色

![](../../assets/2021-12-05-17-35-48.png)

另一个关掉

![](../../assets/2021-12-05-17-36-49.png)

![](../../assets/2021-12-05-17-37-13.png)

过段时间再设置false

![](../../assets/2021-12-05-17-37-42.png)

变量再设为原来的状态

![](../../assets/2021-12-05-17-37-58.png)

随后Ctrl+w copy下 修改播放的蒙太奇 设为不同的攻击模式

![](../../assets/2021-12-05-17-39-02.png)

要让Enemy动画有位移 增加Launch的通知即可

要割裂Enemy的默认动画裁剪 选中片段后可以调整边界限

![](../../assets/2021-12-05-17-40-56.png)

远程攻击 选定资料中的粒子特效 生成粒子系统

![](../../assets/2021-12-05-17-44-29.png)

生成蓝图类自定义事件

新建Actor蓝图 添加ProjectMovement 有初速度的组件 设定

透明组件Scene放到球体上 即替换消失

PartickSystem粒子特效组件

StaticMesh 静态组件 碎片

Sphere 球体碰撞盒

最后将此class放入SpawnActor Spell中

![](../../assets/2021-12-05-17-48-17.png)

调整其位置 要朝向玩家的位置

![](../../assets/2021-12-05-17-49-42.png)

![](../../assets/2021-12-05-17-50-38.png)

添加动画中 丢出去的东西时的通知Dagger Spell

![](../../assets/2021-12-05-17-52-18.png)

在任务蓝图中实现人物事件

![](../../assets/2021-12-05-17-53-12.png)

设定投掷物体的速度

![](../../assets/2021-12-05-17-55-41.png)

投掷物体添加碰撞信息 设为自定义与pawn重叠碰撞且产生重叠事件

添加碰撞触发检测

![](../../assets/2021-12-05-18-00-03.png)

且设定延迟

![](../../assets/2021-12-05-18-00-25.png)

生成粒子系统

![](../../assets/2021-12-05-18-01-35.png)

![](../../assets/2021-12-05-18-02-07.png)

碰撞信息检测设置

![](../../assets/2021-12-05-18-08-44.png)

![](../../assets/2021-12-05-18-09-15.png)

![](../../assets/2021-12-05-18-09-36.png)

新建两个变量设定最大最小伤害 MinDamage MaxDamage

进行随机伤害

![](../../assets/2021-12-05-18-11-24.png)

Reset自定义事件

![](../../assets/2021-12-05-18-12-22.png)

设定动画中 通知eco_hand 和Deco_hand 设定动画中 判定的范围

![](../../assets/2021-12-05-18-14-19.png)

回到动画蓝图中 将BP事件图表中设定事件

![](../../assets/2021-12-05-18-14-57.png)