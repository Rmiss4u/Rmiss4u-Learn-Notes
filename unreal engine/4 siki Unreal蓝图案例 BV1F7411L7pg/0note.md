BSP集合体画刷设置可以进行距离填充
shift+5模式可以对集合体的点面线定制集合体具体形状
按alt拖动集合体可以复制出来
设置中 自动曝光设置 会影响场景的曝光效果(变成渐变)
点光源 角度影响世界亮度(距离不会)
聚光源 内径外径中会逐渐衰减
天光   采集远场景的颜色 环境光漫反射效果
光的静态(无法改变 没有阴影) 固态(动态阴影 无法移动) 可移(完全动态 全场阴影)
静态光源需要烘焙 即构建光照
SM=static mesh (静态网格体存于props)
BP=blue prints(蓝图类)

blue prints class中的类
actor               一种可在世界中放置或动态生成的对象
pawn                一种可以被控制的actor 且可以接收来自controller的输入
character           pawn的一种子类型 增加可以四处走动的功能
player controller   actor的一种子类型 其负责控制玩家所使用的pawn
game mode base      定义了正在进行的游戏 其规则 得分 及类型 的其他方面
actor component     可复用组件 附加actor上
scene component     能够进行场景变换并附加场景组件下

M=material
蓝图界面按3+左键(3vect...) 即出色彩编辑
multiply (亮度增强节点)
RotatingMovement 旋转组件
shift+f1 弹出鼠标
SpringArm 摄像机跟随效果的组件
Pawn受PlayerController控制

节点
红色 执行针脚
圆形针脚 返回值 不同颜色不同类型 (可以转化)

add torque in radians 施加弧度力矩

P24 设计失败触发器
Event ActorBeginOverlap (触发重叠事件)
Get Current Level Name 获取关卡名字
Name类型不区分大小写 String类型区分大小写

![](../../assets/2022-03-01-13-47-23.png)

Get Player Pawn 获取玩家的函数

==节点 判断

分支节点if(branch) 按B+左键

添加判断是否是玩家触发触发器

![](../../assets/2022-03-01-13-56-05.png)

Get Player Camera Manager 获取玩家Camera的函数
Start Camera Fade 淡入淡出
![](../../assets/2022-03-01-13-57-37.png)
from Alpha 不透明度开始
to Alpha 不透明度结束
Duration 持续时间
Hold when Finished (实现一次 完成后停止淡入淡出)

延迟节点 Delay 暂定一会执行线
![](../../assets/2022-03-01-14-04-40.png)

Event BeginPlay 当游戏场景开始时候触发
![](../../assets/2022-03-01-14-07-57.png)

销毁自身触发器
Sphere Collision(球状触发器)
![](../../assets/2022-03-01-14-13-24.png)

SetActorLocation 设置物体的位置节点
Lerp
![](../../assets/2022-03-01-14-18-03.png)

AddTimeline 设定时间轴(可以自己设定返回类型)
![](../../assets/2022-03-01-14-20-43.png)

![](../../assets/2022-03-01-14-21-47.png)

由于会被贴近钻石撞飞 因而更改collision设置
![](../../assets/2022-03-01-14-23-55.png)

获得物体 蓝图
![](../../assets/2022-03-01-14-25-00.png)

将当前变量存储到变量
![](../../assets/2022-03-01-14-26-08.png)

![](../../assets/2022-03-01-14-27-19.png)
命名变量Start Location 后 连入lerp的A节点
![](../../assets/2022-03-01-14-27-53.png)

SetActorScale3D(三位缩放节点)
随后提前存储当前原有的数据
![](../../assets/2022-03-01-14-43-38.png)
先设置位置 随后设置缩放
![](../../assets/2022-03-01-14-44-01.png)
规整蓝图
![](../../assets/2022-03-01-14-45-38.png)
设定开始时光源的变量
![](../../assets/2022-03-01-14-46-51.png)
写入相应变量曲线图
![](../../assets/2022-03-01-14-49-26.png)
![](../../assets/2022-03-01-14-48-49.png)

终 蓝图截面 效果:靠近钻石 将会被Player吸附 且亮度逐渐下降
![](../../assets/2022-03-01-14-50-36.png)
![](../../assets/2022-03-01-14-50-57.png)
![](../../assets/2022-03-01-14-51-27.png)

添加组件 ProjectileMovement(可以用于物体在某个方向移动的组件)

Event Hit(物体击中事件)
子弹碰到非玩家则销毁
![](../../assets/2022-03-01-15-03-00.png)

世界大纲中选定物体 可以在bp中设定物体为bp(蓝图类)
![](../../assets/2022-03-01-15-06-44.png)

Arrow(带有向量的组件)

EventBeginPlay 一开始就运作(触发事件) 开始时就调用
凭空生成子弹 并且法射的蓝图
![](../../assets/2022-03-01-15-13-54.png)

回环反复生成子弹(每秒1发)
![](../../assets/2022-03-01-15-15-53.png)

控制炮头的伸缩 设定timeline来控制时间曲线
![](../../assets/2022-03-01-15-18-06.png)

PlayfromStart每次从头开始播放
![](../../assets/2022-03-01-15-24-31.png)

连上finshed
![](../../assets/2022-03-01-15-25-44.png)

先生成子弹 在开始伸缩
调换位置即可
![](../../assets/2022-03-01-15-29-02.png)

timeline上添加关键轴的点针脚 (为了设定刚开始时 就有这个效果)
//每次播放到0秒时 值行事件针脚
![](../../assets/2022-03-01-15-32-07.png)
![](../../assets/2022-03-01-15-32-18.png)
修正蓝图 可以摆脱动画时间对动画间隔的影响
![](../../assets/2022-03-01-15-32-34.png)

增加开火粒子特效
ParticelSystem组件 
激发粒子特效节点
![](../../assets/2022-03-01-15-36-22.png)
火焰效果的蓝图激发
![](../../assets/2022-03-01-15-37-04.png)
可以反复激发
![](../../assets/2022-03-01-15-37-47.png)

Apply Damage(造成伤害节点 触发事件)
子弹击中玩家 造成伤害并且销毁自身
![](../../assets/2022-03-01-15-40-04.png)

Event AnyDamage(受到任何伤害 触发事件)
连上游戏结束淡入淡出的效果
![](../../assets/2022-03-01-15-44-49.png)

收缩成一个节点(没什么用)
![](../../assets/2022-03-01-15-45-58.png)

定义函数 独立编辑 多处调用
![](../../assets/2022-03-01-15-47-17.png)
![](../../assets/2022-03-01-15-47-07.png)

![](../../assets/2022-03-01-15-48-23.png)

复用成宏 (无法复用成函数)
![](../../assets/2022-03-01-15-50-52.png)
原因:函数只有一个针脚输入 一个针脚输出

收缩成宏 有多个输出针脚
![](../../assets/2022-03-01-15-52-04.png)

可以设定多个输入输出针脚(此图设定是否是玩家判断的节点)
![](../../assets/2022-03-01-15-53-06.png)
同函数可以多次重复使用
![](../../assets/2022-03-01-15-53-34.png)
函数和宏都只能在当前蓝图中本地使用(跨蓝图需要组件的引用 宏不允许如此使用 函数特定情况可以)

蓝图宏库 (蓝图可以公用的宏)
![](../../assets/2022-03-01-15-56-41.png)
![](../../assets/2022-03-01-15-59-08.png)
蓝图中可以搜索到该宏
![](../../assets/2022-03-01-15-59-50.png)
![](../../assets/2022-03-01-16-00-10.png)

宏库中可以隐藏针脚名字
![](../../assets/2022-03-01-16-02-44.png)
重启关卡
![](../../assets/2022-03-01-16-03-01.png)

对摄像头进行淡入淡出整合为宏
![](../../assets/2022-03-01-16-04-42.png)
![](../../assets/2022-03-01-16-05-05.png)
![](../../assets/2022-03-01-16-05-17.png)

设定一个float 统一管理
![](../../assets/2022-03-01-16-05-54.png)

魔法数字(容易遗忘的数字 提升变量)
![](../../assets/2022-03-01-16-08-21.png)

整合蓝图
![](../../assets/2022-03-01-16-12-33.png)

选定节点群+C 注释

在区域内设定聚光灯跟随主视角
将本实例变动覆盖到蓝图模板
![](../../assets/2022-03-01-16-28-05.png)

![](../../assets/2022-03-01-17-13-55.png)

Event Tick 每帧调用

SetWorldRotation
![](../../assets/2022-03-01-17-16-44.png)

Find Look at Rotation 
Start->Target(A看向B的向量)
![](../../assets/2022-03-01-17-17-44.png)

![](../../assets/2022-03-01-17-18-45.png)

BP中GameInstance (用于存储数据)
![](../../assets/2022-03-01-17-25-10.png)

统计实例中场景中的钻石
![](../../assets/2022-03-01-17-29-50.png)

蓝图中计量场景所有钻石数量 并且于BP_GameInstance交互
![](../../assets/2022-03-01-17-33-46.png)

在宏库中设定宏GetGameInstance
![](../../assets/2022-03-01-17-34-44.png)

关卡中对钻石总数的设定
![](../../assets/2022-03-01-17-35-52.png)

钻石收集记录蓝图
![](../../assets/2022-03-01-17-37-22.png)

同上蓝图
![](../../assets/2022-03-01-17-37-54.png)

加入到钻石被收集统计自增蓝图中
![](../../assets/2022-03-01-17-38-37.png)

Mode设置中需要设定数据进入处
![](../../assets/2022-03-01-17-40-01.png)

胜利模块的蓝图中
![](../../assets/2022-03-01-17-41-35.png)
判断是否完全收集
![](../../assets/2022-03-01-17-41-59.png)
![](../../assets/2022-03-01-17-42-16.png)

设置并显示UI
![](../../assets/2022-03-01-17-48-17.png)
![](../../assets/2022-03-01-17-48-06.png)

动态显示UI
右上角从UI中跳转到蓝图编辑UI变化
![](../../assets/2022-03-01-17-50-01.png)

Event Construct(UI界面显示的时候的 触发事件)
关卡名的获取与储存
![](../../assets/2022-03-01-17-52-29.png)

细节面板中可以新建绑定
![](../../assets/2022-03-01-17-53-07.png)
注:不能使用蓝图的宏库

拼接字符串的节点 Append
![](../../assets/2022-03-01-17-55-43.png)
![](../../assets/2022-03-01-17-56-00.png)

显示所用时间跨关卡计时
记录过往通关的数据
![](../../assets/2022-03-01-18-01-01.png)

Event Tick每帧开始触发事件 调用 累加时间
![](../../assets/2022-03-01-18-01-37.png)
注:变量要编译过后才能再编译调用变量的蓝图

绑定时间显示的蓝图
Time Seconds to String 秒数转为分秒的字符串
![](../../assets/2022-03-01-18-04-03.png)

在胜利判断的模块的蓝图中 记录时间的蓝图
获取UI的0号元素
![](../../assets/2022-03-01-18-06-02.png)
时间保存到过往的GameInstance中
![](../../assets/2022-03-01-18-06-54.png)
![](../../assets/2022-03-01-18-07-31.png)
打包成单节点 SaveLevelTime
![](../../assets/2022-03-01-18-08-26.png)

红色 触发事件
灰白色 自定义的宏
绿色 纯净函数 没有进度引脚 不改变游戏的状态
蓝色 不纯净函数 有引脚

判断钻石是否收集完 收缩函数 蓝色 可以是纯净函数(绿色)
![](../../assets/2022-03-01-18-18-42.png)
设定中Pure打勾 即可变成纯净函数(绿色)
![](../../assets/2022-03-01-18-19-47.png)
变成
![](../../assets/2022-03-01-18-20-11.png)

宏库中 也可以转化为纯净函数
![](../../assets/2022-03-01-18-20-53.png)
![](../../assets/2022-03-01-18-21-13.png)

造成影响等等
![](../../assets/2022-03-01-18-22-17.png)

关卡蓝图中完成 每一个关卡仅在当前关卡的定义 在关卡蓝图中设定
![](../../assets/2022-03-01-18-27-36.png)

修改悬臂的设定
![](../../assets/2022-03-01-18-30-47.png)

![](../../assets/2022-03-01-18-31-29.png)

过关设定 1->2关 2->通关
设定Name类的关卡变量名
![](../../assets/2022-03-01-18-33-46.png)
编译后才会有下面的变量参数填写 随后写入关卡的信息
![](../../assets/2022-03-01-18-35-09.png)

FIND节点 找到自己在哪个序列
![](../../assets/2022-03-01-18-36-26.png)

LAST INDEX节点找到最后一个序列 随后进行判断
判断是否是最后一关
![](../../assets/2022-03-01-18-37-18.png)

![](../../assets/2022-03-01-18-38-11.png)

优化视图
![](../../assets/2022-03-01-18-40-00.png)

打开下一个关卡的蓝图
![](../../assets/2022-03-01-18-41-11.png)
连上
![](../../assets/2022-03-01-18-42-03.png)

游戏胜利后的处理
将YOUWIN文本框hide 适当时机展示
![](../../assets/2022-03-01-18-44-03.png)

设定成功后IsWin
![](../../assets/2022-03-01-18-44-36.png)

对Visibility进行绑定
![](../../assets/2022-03-01-18-45-34.png)

对文本是否显示进行分支
![](../../assets/2022-03-01-18-46-17.png)

对YOUWIN之后 设定即时停止和无法操作游戏的功能
先将TEXT进行可见 (即成为一个变量 因而可以看到)
![](../../assets/2022-03-01-18-47-54.png)

UI蓝图中 在YOUWIN不可见的情况下继续运行时间计时
![](../../assets/2022-03-01-18-49-29.png)

在Player运作之前 先添加判断(即是否YOUWIN显示)
![](../../assets/2022-03-01-18-50-45.png)

出现bug:在YOUWIN之后无法操作 但Player跳出了范围造成了失败
解决方法:YOUWIN后将模拟物理关闭 Set Simulate Physics
![](../../assets/2022-03-01-18-52-58.png)

对未收集完 加入特效 Animation
![](../../assets/2022-03-01-18-55-03.png)
设定播放动画特效的函数
![](../../assets/2022-03-01-18-55-47.png)
修改入未收集完播放动画特效
![](../../assets/2022-03-01-18-56-13.png)

bug:关卡重新开始的时候 并没有将钻石收集的数量进行清零

原本蓝图
![](../../assets/2022-03-01-18-57-39.png)

修改 设置归零
![](../../assets/2022-03-01-18-58-07.png)

Do Once节点 只做一次(只允许通过第一次)
![](../../assets/2022-03-01-18-59-35.png)

Audios音乐格式wav
关卡蓝图中添加音效
![](../../assets/2022-03-01-19-02-39.png)
![](../../assets/2022-03-01-19-02-11.png)

音乐添加cue(对声音进行编程)
![](../../assets/2022-03-01-19-03-12.png)

细节面板对音效设定 设定声音范围
![](../../assets/2022-03-01-19-04-18.png)

在火炮蓝图中添加Play Sound at Location
![](../../assets/2022-03-01-19-05-48.png)

钻石收集 音效添加
![](../../assets/2022-03-01-19-06-40.png)

![](../../assets/2022-03-01-19-16-26.png)