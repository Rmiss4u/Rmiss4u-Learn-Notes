计算机图形学 加州大学圣芭芭拉分校UCSB 闫令琪
p1
好的画面:足够亮(? 全局光照) 只狼 无主之地3
图形学内容：光学 着色 形体 动画仿真
openGL(API)

光栅化：三维空间的几何形体显示屏幕上 (实时计算机图形学 每秒生成的(30次)画面 否则 离线计算机图形学)
拓扑结构
光线追踪
动画模拟仿真

games 101
不说的内容 不涉及编程(!!!)
![](../assets/2022-03-18-21-20-42.png)
![](../assets/2022-03-18-21-22-25.png)
![](../assets/2022-03-18-21-22-37.png)

计算机图形学(图像上的操作)≠计算机视觉(一切需要猜测的 分析理解)

特指渲染 计算机图形学—>
<-计算机视觉
![](../assets/2022-03-18-21-24-01.png)

p2
四大部分：光栅化 几何 光追 模拟动画

向量归一化
![](../assets/2022-03-18-22-09-18.png)
向量相加
![](../assets/2022-03-18-22-11-00.png)
![](../assets/2022-03-18-22-14-29.png)
![](../assets/2022-03-18-22-20-08.png)
右手螺旋 (右手坐标系)
![](../assets/2022-03-18-22-24-22.png)
向量叉乘
![](../assets/2022-03-18-22-25-30.png)
(作用 判定左和右 判定内还是外)
![](../assets/2022-03-18-22-26-33.png)
![](../assets/2022-03-18-22-29-27.png)
矩阵基本性质
(注是A* 不是乘号)
![](../assets/2022-03-18-22-35-00.png)

p3
模型的变换 视图的变换

二维变换
均匀缩放矩阵
![](../assets/2022-03-20-15-43-20.png)
非均匀
![](../assets/2022-03-20-15-44-15.png)
对称
![](../assets/2022-03-20-15-45-15.png)
偏移
![](../assets/2022-03-20-15-48-48.png)
旋转
![](../assets/2022-03-20-15-50-37.png)
![](../assets/2022-03-20-15-55-43.png)
思考原因
![](../assets/2022-03-20-16-06-20.png)
新的形式
![](../assets/2022-03-20-16-07-49.png)
![](../assets/2022-03-20-16-11-22.png)
![](../assets/2022-03-20-16-12-29.png)
仿射变换 -> 齐次坐标方式
![](../assets/2022-03-20-16-13-39.png)
缩放 旋转 平移
![](../assets/2022-03-20-16-14-32.png)
逆变换
![](../assets/2022-03-20-16-16-27.png)
先旋转后平移 ≠ 先平移后旋转
![](../assets/2022-03-20-16-21-00.png)
变换矩阵的计算方式 
![](../assets/2022-03-20-16-21-09.png)
![](../assets/2022-03-20-16-23-00.png)

三维变换
![](../assets/2022-03-20-16-27-31.png)
注：先应用线性变换后平移
![](../assets/2022-03-20-16-27-38.png)

p4
上节课补充
![](../assets/2022-03-20-16-32-46.png)
观测(变换)
![](../assets/2022-03-20-16-34-36.png)

![](../assets/2022-03-20-16-36-22.png)
旋转 循环对称(Ry)(印象里有可能万向节死锁的问题 欧拉角->四元数)
![](../assets/2022-03-20-16-36-35.png)
欧拉角
![](../assets/2022-03-20-16-38-25.png)
罗德里格斯 旋转公式
![](../assets/2022-03-20-16-39-42.png)
旋转矩阵不适合插值

相机变换
模型视图投影变换 2d->3d mvp
![](../assets/2022-03-20-16-44-13.png)
定义相机问题
![](../assets/2022-03-20-16-45-04.png)
标准位置 -z向看
![](../assets/2022-03-20-16-46-28.png)
![](../assets/2022-03-20-16-47-29.png)
视图变换
![](../assets/2022-03-20-16-49-23.png)
投影
![](../assets/2022-03-20-16-51-54.png)
//左透视投影 右正交投影
![](../assets/2022-03-20-16-53-03.png)

正交投影
![](../assets/2022-03-20-16-53-59.png)
映射成 标准立方体
![](../assets/2022-03-20-16-55-02.png)
(坐标系不同可能结论相反)
![](../assets/2022-03-20-16-57-51.png)
![](../assets/2022-03-20-16-57-23.png)

透视投影(平行线看起来可能会相交)
![](../assets/2022-03-20-16-59-09.png)
![](../assets/2022-03-20-17-00-29.png)
![](../assets/2022-03-20-17-01-02.png)
挤压投影矩阵怎么做
![](../assets/2022-03-20-17-03-41.png)
![](../assets/2022-03-20-17-05-20.png)
![](../assets/2022-03-20-17-06-04.png)
任何一个点 运算之后还是这个点
远处的平面也不会变化
![](../assets/2022-03-20-17-07-05.png)
![](../assets/2022-03-20-17-07-34.png)
![](../assets/2022-03-20-17-09-44.png)
Mp->o 透视投影矩阵
![](../assets/2022-03-20-17-09-51.png)

观测变换：1.视图变换 2.投影变换(正交/透视)
p5
三角形的光栅化
![](../assets/2022-03-20-17-42-59.png)
![](../assets/2022-03-20-17-49-52.png)
![](../assets/2022-03-20-17-51-17.png)
屏幕 光栅成像设备
光栅化：画在屏幕上
![](../assets/2022-03-20-17-52-28.png)
1.像素坐标 以xy(整数描述)表示 原点0,0
2.所有像素 0,0 -> width-1 height-1
3.像素中心 x+0.5,y+0.5
4.屏幕空间 0,0 -> width height
![](../assets/2022-03-20-17-53-34.png)
![](../assets/2022-03-20-17-56-55.png)
(示波器 基本原理)
![](../assets/2022-03-20-19-00-19.png)
隔行扫描(画面撕裂) crt
![](../assets/2022-03-20-19-02-39.png)
通用显示设备
![](../assets/2022-03-20-19-03-14.png)
平板显示设备 lcd oled...
![](../assets/2022-03-20-19-03-55.png)
lcd 液晶显示器 (排布影响成像)
![](../assets/2022-03-20-19-04-32.png)
led 发光二极管
![](../assets/2022-03-20-19-06-57.png)
电子墨水屏(刷新率很低)
![](../assets/2022-03-20-19-07-18.png)
三角形 基础的多边形 (可以拆成多个三角形) 性质(一定在同一个平面 内外定义清晰 向量叉积判断在内外 三角形内可以任何一点与顶点的渐进关系(中心坐标插值方法))
三角形变成像素
![](../assets/2022-03-20-19-11-40.png)
像素的中心点与三角形的位置关系
采样把函数离散化的过程
![](../assets/2022-03-20-19-13-18.png)
像素中心判断是否在三角形内
![](../assets/2022-03-20-19-13-49.png)
定义函数inside
![](../assets/2022-03-20-19-14-26.png)
![](../assets/2022-03-20-19-15-56.png)
判断点在三角形内
计算AB BC CA与AP BP CP的方位 随后可以判别P的具体位置
若是在三角形边上(特殊/不做处理)
加速方法1
蓝色 三角形的包围盒 (节省判断次数)
![](../assets/2022-03-20-19-21-20.png)
加速方式2 (算到每一列的尽头)
![](../assets/2022-03-20-19-22-29.png)
像素排列结构(绿色点更多)
![](../assets/2022-03-20-19-23-50.png)
打印 检色系统
![](../assets/2022-03-20-19-25-56.png)
锯齿(光栅化一直在解决的问题 采样率信号走样问题)
(抗锯齿 反走样)
![](../assets/2022-03-20-19-27-30.png)

p6
反走样(锯齿) 深度缓冲 (信号处理有关系)
Artfacts(瑕疵)
摩尔纹
![](../assets/2022-03-20-19-36-43.png)
采样造成的问题:锯齿 摩尔纹 车轮效应(高速旋转可能分不清顺逆旋转)等等
信号变化过快造成速度跟不上变化速度
在采样之前进行模糊(滤波)
![](../assets/2022-03-20-19-40-12.png)
反走样效果(先模糊 后采样)
![](../assets/2022-03-20-19-40-48.png)
![](../assets/2022-03-20-19-41-07.png)
频率 正弦余弦函数
傅里叶级数展开 函数->三角函数组
![](../assets/2022-03-20-19-44-19.png)
傅里叶变换 给定一个函数 变成另一个函数 (反过来 逆傅里叶变换)
![](../assets/2022-03-20-19-44-53.png)
多次采样频率(间隔) -> "信号变化过快造成速度跟不上变化速度" 的问题
![](../assets/2022-03-20-19-46-25.png)
![](../assets/2022-03-20-19-47-36.png)
运用同一个采样方法 使用频率不相同的两个信号下 但是最终的采样点结果却完全相同 无法区分出结果
-> "走样"的原因(以下俩图为例)
![](../assets/2022-03-20-19-52-45.png)
滤波 频率角度上说 特定的频段抹去(去掉一些频率)
高通滤波(高频段不过滤的滤波 抹去低频段) 图像边界剧烈变化
例
![](../assets/2022-03-20-19-57-58.png)
高通滤波
![](../assets/2022-03-20-19-58-26.png)
低通滤波
![](../assets/2022-03-20-19-59-05.png)
抹去高频低频
![](../assets/2022-03-20-19-59-43.png)
//数字图像处理

滤波=平均(=卷积)
卷积操作(周围加权)
![](../assets/2022-03-20-20-02-45.png)
两个信号上的乘积
![](../assets/2022-03-20-20-03-21.png)
上 卷积 周围加权 下 傅里叶 时域x频域=...
![](../assets/2022-03-20-20-03-47.png)

频率=采样 采样就是重复原始信号频谱
![](../assets/2022-03-20-20-07-34.png)
//注:要懂还得去学《信号与系统》《数字信号处理》《数字图像处理等》
采样不够快出现问题 混叠 -> 走样
![](../assets/2022-03-20-20-09-53.png)

反走样的方式
1.增加采样率
![](../assets/2022-03-20-20-11-45.png)
2.先模糊 后采样(顺序不能反)
![](../assets/2022-03-20-20-11-55.png)
![](../assets/2022-03-20-20-12-21.png)
![](../assets/2022-03-20-20-12-55.png)
怎么做模糊 -> 滤波器 方法(卷积操作 / 平均值)
![](../assets/2022-03-20-20-13-59.png)
MSAA (更多采样点反走样 近似)
对于任何一点 划分多个像素 随后进行平均近似
![](../assets/2022-03-20-20-15-33.png)
![](../assets/2022-03-20-20-15-41.png)
![](../assets/2022-03-20-20-16-41.png)
MSAA牺牲了什么(计算量)
抗锯齿 MSAA FXAA TAA
FXAA 快速近似抗锯齿 图像后期处理 边界换成没有锯齿的边界
TAA 相邻两帧同一位置进行的操作 (上一帧会影响此时的效果)
超分辨率 抗锯齿(相似)
DLSS 深度学习来(猜测出来)
![](../assets/2022-03-20-20-22-24.png)

p7
深度测试
光照 着色 图形管线
深度缓冲(缓存) 着色 分析光照 图形管线

1.画家算法 可见性问题 从远到近的画(覆盖上去)
复杂情况
![](../assets/2022-03-20-20-34-57.png)

2.深度缓冲 Z-Buffer 透明无法处理
对每个像素进行可视化判断
![](../assets/2022-03-20-20-40-44.png)
视点距离问题
![](../assets/2022-03-20-20-43-29.png)
每一个像素内计算最浅深度
![](../assets/2022-03-20-20-45-22.png)
R无限大值(足够大) 渲染结果同步更新 
![](../assets/2022-03-20-20-46-52.png)
(维护顺序与深度无关)
![](../assets/2022-03-20-20-52-22.png)

3.着色 shading
明暗不同 对不同物体施加不同材质
Blinn-Phong 反射模型
![](../assets/2022-03-20-20-59-11.png)
考虑任何一点的着色问题(不考虑其他)(局部问题 但是没有阴影)
计算接收到的能量(光线照射余弦角度正比)
![](../assets/2022-03-20-21-01-56.png)
光强能量守恒 (传播距离与光强度反比)
![](../assets/2022-03-20-21-04-42.png)
光照点上看到的亮度 漫反射 (三维)
![](../assets/2022-03-20-21-05-39.png)

p8
着色模型 图形管线 纹理映射 中心坐标

高光像 (接近镜面反射角度)
n/h越接近 则反射角度越接近镜面反射角度(点乘计算接近程度)
![](../assets/2022-03-20-21-14-31.png)
指数p 原因 (100~200 控制高光大小) 物理光泽度
![](../assets/2022-03-20-21-18-13.png)
![](../assets/2022-03-20-21-19-06.png)

环境光像 (提升一个亮度
![](../assets/2022-03-20-21-19-46.png)

环境光像 漫反射像 高光像 = (B-P)布林-冯反射模型 (经验模型)
![](../assets/2022-03-20-21-20-54.png)

着色频率 
集合表示一样 插值平滑过渡
![](../assets/2022-03-20-21-23-33.png)
三角形叉积球法线 算出结果 着色的结果(Flat)
![](../assets/2022-03-20-21-26-00.png)
任意顶点求法线(Gouraud)
![](../assets/2022-03-20-21-26-19.png)
对每一个像素插值出着色(Phong) 着色频率
![](../assets/2022-03-20-21-27-25.png)
区别:具体的模型
![](../assets/2022-03-20-21-28-33.png)
1.逐顶点的法线(?)对应球的法线
2.面的法线求平均
3.面的法线求加权平均
![](../assets/2022-03-20-21-30-49.png)
![](../assets/2022-03-20-21-50-36.png)

渲染管线 实时渲染管线
基本操作
![](../assets/2022-03-20-21-52-31.png)
![](../assets/2022-03-20-21-53-35.png)
![](../assets/2022-03-20-21-53-44.png)
![](../assets/2022-03-20-21-53-51.png)
![](../assets/2022-03-20-21-53-59.png)
![](../assets/2022-03-20-21-55-19.png)
shader 顶点像素的着色 一个顶点的着色操作  有 顶点着色器 (或 有 像素着色器
定义任意顶点/像素片段 如何着色
![](../assets/2022-03-20-21-56-02.png)
网页上值行着色器
![](../assets/2022-03-20-21-59-10.png)
顶点着色器 片段/像素着色器 通用gpu计算
![](../assets/2022-03-20-22-01-44.png)

纹理映射
定义任意一个点的属性 三维可以由二维来表达(一一对应) 纹理就是图
![](../assets/2022-03-20-22-04-03.png)
(无数个三角形的贴图)
![](../assets/2022-03-20-22-05-08.png)
纹理上定义坐标系 (u,b)坐标 每一个三角形有一个对应的uv
![](../assets/2022-03-20-22-06-16.png)
纹理可以多次(重复)应用 (无缝衔接 tiled)
![](../assets/2022-03-20-22-07-37.png)
三角形内部的对应uv插值(?) 重心坐标 -> p9

p9
纹理应用

如何在三角形内部插值 重心坐标
重心坐标意义 定义在三角形上 线性表出 (系数为非负 图内)
![](../assets/2022-03-20-22-14-14.png)
α=1 β=0 γ=0
![](../assets/2022-03-20-22-15-59.png)
分割(面积比)
![](../assets/2022-03-20-22-16-24.png)
三角形重心 均分三份
![](../assets/2022-03-20-22-17-53.png)
推出面积公式
![](../assets/2022-03-20-22-18-19.png)
重心坐标的位置 可能会受到投影下影响 -> 深度 p2的末尾出现的畸变原因
![](../assets/2022-03-20-22-19-11.png)
![](../assets/2022-03-20-22-21-12.png)

纹理放大出现的问题
![](../assets/2022-03-20-22-25-59.png)
非整数的uv坐标 -> 双线性插值
![](../assets/2022-03-20-22-28-23.png)
找临近四个点 找到水平距离 竖直距离
![](../assets/2022-03-20-22-28-32.png)
水平和竖直进行插值 双线性插值
![](../assets/2022-03-20-22-30-15.png)
效果(中) 效果还差些
![](../assets/2022-03-20-22-31-11.png)

双向三次插值Bicubic 取临近的16个 临近三次双线性插值

纹理太大了会引起更严重问题(近锯齿 远摩尔纹 -> 走样)
![](../assets/2022-03-20-22-33-10.png)
屏幕纹理覆盖区域不同
![](../assets/2022-03-20-22-33-34.png)
避免采样(?) 

允许范围查询 近似的不准的 仅仅是方形的范围查询 mip map
![](../assets/2022-03-20-22-37-18.png)
从一张图生成一系列图 更高层纹理
存储量全部加起来 节省1/3(等比求和公式)
随后将其压缩成一个图 则会变成原本的1/3存储 按顺序网右下右上左上左下填入，是不是就出现黄金螺旋了？
近似的范围查询
![](../assets/2022-03-20-22-40-59.png)
进行近似 得到 
![](../assets/2022-03-20-22-41-40.png)
按照远近进行区分 但是缺乏渐变
![](../assets/2022-03-20-22-44-10.png)
渐变 -> 双线性插值 (层与层之间的插值)
![](../assets/2022-03-20-22-44-53.png)
变成过渡
![](../assets/2022-03-20-22-46-09.png)
mipmap会模糊过分 (正方形 多次插值)
![](../assets/2022-03-20-22-46-46.png)

部分解决 -> 各项异性过滤(仅矩形) 开多少层
mipmap是正方形 但是三维下经常会单维压缩 会有压缩区域
![](../assets/2022-03-20-22-48-25.png)
映射到纹理上 会出现(以上的)不同的情况
允许对长条快速查询
![](../assets/2022-03-20-22-48-58.png)

EWA过滤(球图 sphere map) 拆成圆形(多次查询 代价很大 3倍 mipmap 1/3倍)
![](../assets/2022-03-20-22-49-33.png)

p10
几何

纹理应用 纹理是一张图 一块内存数据 进行查询

1.纹理可以用于表述环境光
环境光存储在球面上 用于展开 (出现扭曲问题)
![](../assets/2022-03-21-12-13-30.png)
解决办法 包围盒 立方体展开
![](../assets/2022-03-21-12-14-16.png)
正方体图cub map
![](../assets/2022-03-21-12-14-26.png)

2.凹凸贴图 任何不同位置不同颜色 纹理定义相对的高度(深度) 明暗对比 -> 凹凸的视觉感觉
![](../assets/2022-03-21-12-16-25.png)
对法线进行扰乱 造成变化(相对高度)
![](../assets/2022-03-21-12-18-12.png)
2D 切线 -> 法线 (逆时针旋转90°)
![](../assets/2022-03-21-12-20-02.png)
3D 梯度
![](../assets/2022-03-21-12-20-47.png)
![](../assets/2022-03-21-12-21-24.png)

位移贴图 (定义纹理原理相同 但其在实际上顶点真的进行移动)
代价 三角形要求足够细 间隔要高于频率(采样率的问题)
![](../assets/2022-03-21-12-21-55.png)

三维纹理 三维空间定义 (一系列操作后 变成->)
![](../assets/2022-03-21-12-24-31.png)
环境光遮蔽(计算好的)
![](../assets/2022-03-21-12-25-34.png)

隐式几何 满足特定关系的点(归类间接表达出) 例 单位球隐式表示 x2+y2+z2=1
特点 都有哪些点在里面(困难) 点是否在里面(简单)
显示几何 参数映射的方法 R2->R3 (u,v)->(x,y,z) 例子 坐标可以表达出
特点 都有哪些点在里面(简单) 点是否在里面还是在外面(困难)

数学公式不直观
![](../assets/2022-03-21-14-21-37.png)

CSG 通过基本几何计算表达出复杂的几何
![](../assets/2022-03-21-14-22-43.png)
![](../assets/2022-03-21-14-23-17.png)

DF 距离函数进行的融合
![](../assets/2022-03-21-14-24-54.png)
具体例子
![](../assets/2022-03-21-14-26-24.png)
区别 等高线(类似)
![](../assets/2022-03-21-14-29-20.png)
三维纹理 可以应用上

分形 自相似(递归) 可能会引起强烈的走样
![](../assets/2022-03-21-14-30-25.png)

总结
隐式
![](../assets/2022-03-21-14-32-13.png)
显示(下一p)

p11
几何2 曲线 曲面

点云(密集的点表达出任何的几何)
![](../assets/2022-03-21-14-35-37.png)
多边形面(三角形/四边形组合)
![](../assets/2022-03-21-14-36-13.png)
三角形面形成的物体(例) 文本文件 8个点 6种法线 12个纹理坐标 定义连接关系 f表达不同点表达出三角形
![](../assets/2022-03-21-14-37-34.png)

曲线
贝塞尔曲线 Bezier Curve 一系列点控制曲线(必经始终点)
![](../assets/2022-03-21-14-41-08.png)
找出点
![](../assets/2022-03-21-14-43-14.png)
递归求中点
![](../assets/2022-03-21-14-44-21.png)
(动画)
![](../assets/2022-03-21-14-44-51.png)
![](../assets/2022-03-21-14-45-46.png)
组合几何控制点 (系数杨辉三角)
![](../assets/2022-03-21-14-46-38.png)
![](../assets/2022-03-21-14-47-51.png)
![](../assets/2022-03-21-14-48-37.png)
伯恩斯坦多项式
![](../assets/2022-03-21-14-49-19.png)
性值 1.过始终点 2.方向切线三倍b1 b0(看倍数) 3.放射变换下(投影结论)相同 4.凸包(图像给定点以内)
![](../assets/2022-03-21-14-51-18.png)
凸包:任何一个点在控制点内
![](../assets/2022-03-21-14-52-15.png)
逐段定义控制点 每四个点控制形成贝塞尔曲线(ps的钢笔工具)
![](../assets/2022-03-21-14-53-58.png)
若控制线连续 则可以变得光滑
![](../assets/2022-03-21-14-56-16.png)
切线连续 连续性(性值)
![](../assets/2022-03-21-14-57-22.png)

样条曲线
![](../assets/2022-03-21-14-58-21.png)

B(贝塞尔曲线)样条 (极其复杂 暂略)
![](../assets/2022-03-21-15-00-25.png)

![](../assets/2022-03-21-15-01-02.png)

曲面 贝塞尔曲面
![](../assets/2022-03-21-15-02-11.png)
曲线->曲面 4x4控制点形变
![](../assets/2022-03-21-15-02-39.png)
![](../assets/2022-03-21-15-02-58.png)
双线性插值方法(滑动控制点 形成面)
![](../assets/2022-03-21-15-03-23.png)
![](../assets/2022-03-21-15-04-23.png)
三角形网格
![](../assets/2022-03-21-15-06-06.png)

p12
几何3 细分 简化
![](../assets/2022-03-21-15-10-21.png)
![](../assets/2022-03-21-15-10-28.png)
位移贴图(相对位置移动 高度差)
![](../assets/2022-03-21-15-11-28.png)
三角形数量增加(loop subdivision) 调整顶点位置 
区分新的顶点和旧顶点 分别改变位置(变得光滑)
![](../assets/2022-03-21-15-13-02.png)
如何调整成光滑 
新的顶点 白点调整(加权平均) -> 平滑
![](../assets/2022-03-21-15-14-02.png)
旧顶点(周围点 对自己加大权 和周围取小权 取平均)
n:度(连接边数量)
![](../assets/2022-03-21-15-16-09.png)
细分调整
![](../assets/2022-03-21-15-19-33.png)
网格细分方式(四边形和三角形的组合)
非四边形 奇异点(度!=4) 非四边形点
引入不同的点(中点) 面取中心
最终 非四边形面 -> 四边形面
![](../assets/2022-03-21-15-21-13.png)
再次细分不会增加奇异点
![](../assets/2022-03-21-15-23-14.png)
![](../assets/2022-03-21-15-24-08.png)
![](../assets/2022-03-21-15-24-41.png)
简化不同 远距离简化 (仿佛mipmap)
![](../assets/2022-03-21-15-26-58.png)
如何简化 边坍缩
![](../assets/2022-03-21-15-28-49.png)
坍缩点的选取 二次(平方)误差度量
![](../assets/2022-03-21-15-29-23.png)
![](../assets/2022-03-21-15-31-22.png)
坍缩边之后影响其他边的变化(取最小 更新影响点)
优先队列 堆 (动态更新)
![](../assets/2022-03-21-15-32-31.png)
简化
![](../assets/2022-03-21-15-33-59.png)

光线追踪 光栅化求阴影(?) shadow mapping只能处理点光源 非0即1
![](../assets/2022-03-21-15-37-01.png)
1.光源看向场景(光栅化)记录看到点的深度
2.视角看向场景 场景投影回光源 找到记录深度判断是否看得到
![](../assets/2022-03-21-15-39-10.png)
阴影
![](../assets/2022-03-21-15-40-23.png)
光源看向场景记录深度
![](../assets/2022-03-21-15-40-53.png)
实际相机 对比 shadow mapping出现了问题(float精度问题)
![](../assets/2022-03-21-15-41-23.png)

硬阴影 阴影锐利边缘 软阴影(下)
![](../assets/2022-03-21-15-46-16.png)

p13
光线追踪 光栅化的光线追踪

光栅化问题(1.全局效果 表现很差 2.反射问题 粗糙性 3.间接光照 不断漫反射问题)
![](../assets/2022-03-21-17-03-37.png)
光栅化 快速近似 低质量
![](../assets/2022-03-21-17-04-57.png)
光线追踪(比较生成慢 离线 符合物理规律 质量高)
![](../assets/2022-03-21-17-05-44.png)
追踪光线 的3假设
1.光线直线传播
2.光线互不碰撞
3.从光源点发射 到达视角 可逆性 (人可以发出感知光线 反射到法射点)
![](../assets/2022-03-21-17-08-08.png)
(错误描绘 但可以是这么理解)
![](../assets/2022-03-21-17-09-11.png)
从相机开始投射追踪收到的光照
![](../assets/2022-03-21-17-10-04.png)
光线投射 过程
![](../assets/2022-03-21-17-12-41.png)

递归光线追踪(Recursive) (光不断的折射反射)
![](../assets/2022-03-21-17-13-26.png)
光线投射中有折射和反射(假设完美反射) 达到的地方都与光源连线(随后都加到成像上去)
![](../assets/2022-03-21-17-15-56.png)
结果
![](../assets/2022-03-21-17-16-48.png)

光线与物体表面的交点(求)
点光源o->d 光线传播
![](../assets/2022-03-21-17-19-02.png)
光线如何与物体相交点 又在光上又在物体上
t 传播时间
![](../assets/2022-03-21-17-20-19.png)
展开式
![](../assets/2022-03-21-17-20-54.png)
求解出实数 正数解
![](../assets/2022-03-21-17-21-51.png)
偶：有进出物体，奇数：只有出物体 因此可以判断是否在物体内
![](../assets/2022-03-21-17-23-39.png)
光线平面求交
![](../assets/2022-03-21-17-25-10.png)
平面如何做定义 (一点一法线 点法式)
![](../assets/2022-03-21-17-26-03.png)
![](../assets/2022-03-21-17-27-28.png)
//最终求出是否在三角形内

MT算法 光线平面交点
克拉默法则 (线性方程组求解快速求解)
b1 b2 b3非负
![](../assets/2022-03-21-17-28-37.png)

光线和表面 计算加速问题(提高渲染效果)
![](../assets/2022-03-21-17-34-07.png)
包围盒 包围统计 加速方式(简单形状包起来)
![](../assets/2022-03-21-17-35-31.png)
长方体是三个对面形成的交集(三对无限大的平面 形成交集)
![](../assets/2022-03-21-17-36-57.png)
光线与包围盒的求交 (视二维情况下)
![](../assets/2022-03-21-17-39-02.png)
何时进入何时出去(?) 求 对面 的交集
![](../assets/2022-03-21-17-39-52.png)
三维情况下 光线进入三对面时 才能算是进入 离开任意一对面则视作离开
计算所有三对面的进入和出入时间 求出最大值的进入时间和最短的出去时间
![](../assets/2022-03-21-17-41-04.png)
其夹角的时间为 光线进入和离开物体的时间
![](../assets/2022-03-21-17-42-09.png)
离开时间<0                  不可能有交点
离开时间>=0 并且 进入<0     起点在物品里面
![](../assets/2022-03-21-17-43-44.png)
当仅当 进入情况
![](../assets/2022-03-21-17-44-07.png)
![](../assets/2022-03-21-18-12-23.png)

p14
光线追踪 加速结构

AABB加速光追 1.均匀格子 2.空间划分
1.光追前找到包围盒
2.判定格子是否有可能有物体(表面)
![](../assets/2022-03-21-18-27-54.png)
光线有可能与物体相交 进行判断 找到所有交点
![](../assets/2022-03-21-18-28-53.png)
加速效果如何(?) 分割格子的单位
![](../assets/2022-03-21-18-30-26.png)

空间划分
八叉树 (包围盒切成八份)
KD树 沿着一个轴
BSP树 空间二分 一个方向砍开(高纬度越来越不好计算)
![](../assets/2022-03-21-18-34-18.png)
例 KD树
![](../assets/2022-03-21-18-38-49.png)
当前在那一轴划分
子节点
不存在中间节点
只存叶子节点
![](../assets/2022-03-21-18-39-33.png)
KD树如何光线追踪加速
![](../assets/2022-03-21-18-40-40.png)
没有交点跳过 可能有交点 继续判断(类似二分查找的方式)
(并不直观)
![](../assets/2022-03-21-18-41-33.png)

以物体进行划分BVH
物体分成两个部分
![](../assets/2022-03-21-18-45-30.png)
如何划分(?) 终止条件(?)
1.找到包围盒
2.拆成两个部分
3.递归分别部分继续二分
4.某种条件终止
![](../assets/2022-03-21-18-49-43.png)
技巧
1.空间中均匀分布 以最长的轴变短 进行划分(长条截半)
2.树分部分的数量差不多(让二叉树尽量平衡 深度相近)
第i大 快速选择(快排选择需要的那部分)
![](../assets/2022-03-21-18-53-38.png)
存储 包围盒(叶子节点实际物体)
![](../assets/2022-03-21-18-54-13.png)
伪代码
![](../assets/2022-03-21-18-54-24.png)
KD / BVH 区别
划分空间/划分物体 
![](../assets/2022-03-21-18-55-14.png)

辐射度量学
![](../assets/2022-03-21-18-56-57.png)
光的强度(物理意义 10单位(?) blinn-phone简化了)
反射有一定的区域 反射角度不一定(完美) 能量衰减(?) 等等物体
辐射度量学精确描述
![](../assets/2022-03-21-19-00-53.png)
如何描述光照 单位 属性 (空间属性) 几何光学 关照的若干属性
(若干英语专有名词 未翻译)
![](../assets/2022-03-21-19-02-00.png)
有明确的物理概念
能量(焦耳)
定义单位时间的能量 Radiant flux(功率 瓦特)
![](../assets/2022-03-21-19-03-40.png)
flux 给单位的时间通过光子数量(实际定义)
![](../assets/2022-03-21-19-04-51.png)
光源辐射能量 吸收能量 如何度量
![](../assets/2022-03-21-19-05-26.png)
![](../assets/2022-03-21-19-05-39.png)

Radiant Intensity
![](../assets/2022-03-21-19-06-16.png)
弧度角 2D-> 3D 空间的立体角 三维空间中的角度
![](../assets/2022-03-21-19-07-31.png)
单位立体角
![](../assets/2022-03-21-19-09-12.png)
![](../assets/2022-03-21-19-09-17.png)
三维空间中的一种方向
![](../assets/2022-03-21-19-09-55.png)
![](../assets/2022-03-21-19-10-05.png)
实际例子 计算灯光某一点的量
![](../assets/2022-03-21-19-11-49.png)

p15
光线追踪 - 光线传播 全局光照

回顾
![](../assets/2022-03-21-19-28-20.png)
微分立体角
![](../assets/2022-03-21-19-30-27.png)

Irradiance 每一个面积上的立体角
![](../assets/2022-03-21-19-31-08.png)
不垂直光面亮度减少
![](../assets/2022-03-21-19-32-26.png)
平方衰减 是Irradiance在衰减
![](../assets/2022-03-21-19-33-49.png)

Radiance 描述光线的属性
![](../assets/2022-03-21-19-34-50.png)
单位立体角 单位立体面积
![](../assets/2022-03-21-19-35-07.png)
联系起来 微分关系
![](../assets/2022-03-21-19-36-21.png)
I:小范围受到的所有能量
R:某一方向在小范围受到的所有能量
I=所有方向获得的R
![](../assets/2022-03-21-19-38-33.png)

BRDF 双向反射分布函数
反射是什么-> 多少能量从哪方向(一部分能量被吸收后)又(反射)到哪方向
![](../assets/2022-03-21-19-41-18.png)
定义如何分配 各个不同方向分配能量
![](../assets/2022-03-21-19-43-39.png)
![](../assets/2022-03-21-19-50-16.png)

渲染方程 光线反复弹射递归定义方式
![](../assets/2022-03-21-19-52-08.png)
自身会发光 加上入射的能量即可
![](../assets/2022-03-21-19-53-12.png)
光线传播累加
![](../assets/2022-03-21-19-55-51.png)
面光源
![](../assets/2022-03-21-19-56-14.png)
![](../assets/2022-03-21-19-56-41.png)
递归方式 渲染方程
![](../assets/2022-03-21-19-57-20.png)
简化公式
![](../assets/2022-03-21-19-58-38.png)
![](../assets/2022-03-21-19-59-11.png)
解方程 数学变换
![](../assets/2022-03-21-19-59-23.png)
分解成能量 弹射的分解 (直接光照 间接光照 => 全局光照)
![](../assets/2022-03-21-20-00-28.png)
光照收敛(亮度逐渐损耗 直至没变化)

概率论回顾
![](../assets/2022-03-21-20-05-32.png)
![](../assets/2022-03-21-20-07-14.png)
![](../assets/2022-03-21-20-07-49.png)
![](../assets/2022-03-21-20-09-58.png)
![](../assets/2022-03-21-20-11-21.png)

p16
光追 蒙特卡罗积分

蒙特卡罗积分 任何问题定积分 不定积分
![](../assets/2022-03-21-20-18-18.png)
随机采样的方法 采样非常多次 最终取平均
![](../assets/2022-03-21-20-19-11.png)
![](../assets/2022-03-21-20-20-39.png)
例
![](../assets/2022-03-21-20-21-02.png)
随后
![](../assets/2022-03-21-20-21-30.png)
注意:1.近似差得远 n越大越准 2.要求定义在x上积分 有且仅能采样x
![](../assets/2022-03-21-20-23-45.png)

路径追踪 Path Tracing
弹射光线 光滑物体反射折射 漫反射物体
并不一定对的 路径追踪 非基于物理的问题
![](../assets/2022-03-21-20-25-59.png)
材质反射问题
![](../assets/2022-03-21-20-27-05.png)
光线漫反射问题
![](../assets/2022-03-21-20-40-43.png)
渲染方程是对的 (解方程)
解积分值 蒙特卡洛解
![](../assets/2022-03-21-20-43-23.png)
点直接光照是什么(求出)
![](../assets/2022-03-21-20-44-31.png)
![](../assets/2022-03-21-20-45-23.png)
![](../assets/2022-03-21-20-46-02.png)
写成蒙特卡洛方程
![](../assets/2022-03-21-20-46-55.png)
![](../assets/2022-03-21-20-47-07.png)
p是点 p()是pdf(均匀采样点)
![](../assets/2022-03-21-20-48-11.png)
反射多少I?
![](../assets/2022-03-21-20-58-24.png)
加上分支支持全局光照(蓝字新增)
![](../assets/2022-03-21-20-58-54.png)
反复弹射之后 数量几何倍增加 数量级增加 (n=1不会指数爆炸)
![](../assets/2022-03-21-21-00-21.png)
n=1 => 路径追踪
![](../assets/2022-03-21-21-02-06.png)
![](../assets/2022-03-21-21-03-32.png)
![](../assets/2022-03-21-21-04-50.png)
递归 存在问题 限制次数是不对的(能量会有损耗 但不能弹射无数次)
![](../assets/2022-03-21-21-05-44.png)
俄罗斯轮盘赌(解决方式)
![](../assets/2022-03-21-21-07-07.png)
自定义概率 离散型随机变量
以一定概率进行的计算 (有噪声)
![](../assets/2022-03-21-21-07-52.png)
![](../assets/2022-03-21-21-08-27.png)
极端的特性 小问题(低效)
![](../assets/2022-03-21-21-09-31.png)
此算法是看运气 浪费了很多
![](../assets/2022-03-21-21-10-25.png)
完全不浪费的方法(?)
卸载光源上采样 和积分(?)
![](../assets/2022-03-21-21-12-14.png)
立体角
![](../assets/2022-03-21-21-13-20.png)
![](../assets/2022-03-21-21-14-00.png)
![](../assets/2022-03-21-21-14-31.png)
因此可以避免此问题 直接对光进行采样
来源于光源的贡献 来源于非光源的贡献
均匀采样 光源采样光源积分 再引入俄罗斯轮盘 跳过发出 否则中断
![](../assets/2022-03-21-21-15-45.png)
![](../assets/2022-03-21-21-16-38.png)
光源采样问题:有遮挡物(?)
加入判断
![](../assets/2022-03-21-21-17-52.png)
![](../assets/2022-03-21-21-18-53.png)
![](../assets/2022-03-21-21-20-41.png)
Ray tracing 的意义 拓展
以前说RT 就是Whitted-style ray 现在就不一定
现在说 简单理解 所有光线传播方法的大集合
![](../assets/2022-03-21-21-21-25.png)
怎样进行均匀采样方向(?) 
蒙特卡洛任意pdf可以使用(如何选择?)(重要性采样理论)
随机数是否会出问题(?)
![](../assets/2022-03-21-21-29-29.png)
采样方法结合(?)multiple imp sampling
不同路径平均起来为什么就是像素平均?
颜色矫正(伽马矫正 原因?)
虚线? 颜色空间? HDR?
![](../assets/2022-03-21-21-32-13.png)
路径追踪还算是int..? 是的 依旧还是
![](../assets/2022-03-21-21-32-40.png)

p17
材质与外观

material=BRDF
完全不吸收时 (百分百透) 取(0~1/pi)
![](../assets/2022-03-21-21-40-25.png)
镜面Glossy material
折射 水/玻璃
反射 出射=入射角度
![](../assets/2022-03-21-21-45-16.png)
![](../assets/2022-03-21-21-47-26.png)
折射 折射定律
![](../assets/2022-03-21-21-48-53.png)
折射率
![](../assets/2022-03-21-21-49-23.png)
![](../assets/2022-03-21-21-49-46.png)
没有折射 => 全反射
![](../assets/2022-03-21-21-50-07.png)
人在水底只能看到锥形区域
![](../assets/2022-03-21-21-51-14.png)
菲涅尔项 有多少光被反射 (角度问题)
![](../assets/2022-03-21-21-52-38.png)
![](../assets/2022-03-21-21-53-15.png)
金属
![](../assets/2022-03-21-21-54-35.png)
计算公式 多少能量被反射
![](../assets/2022-03-21-21-55-06.png)
简化公式
![](../assets/2022-03-21-21-55-40.png)
导体折射率 负

微表面模型 Microfacet Material 远处看不到细节
物体表面是凹凸不平 远处看起来是平/粗糙
![](../assets/2022-03-21-21-58-45.png)
微表面法线分布 集中=有光泽 分散=漫反射 
![](../assets/2022-03-21-21-59-19.png)
![](../assets/2022-03-21-22-01-20.png)

区分材质的方式
![](../assets/2022-03-21-22-06-16.png)
各项异性 特性 旋转下成像不相同 水平或者竖直表现不一样
![](../assets/2022-03-21-22-06-38.png)
BRDF非负 线性性质
![](../assets/2022-03-21-22-09-33.png)
可逆性 交换入射出射得到相同
![](../assets/2022-03-21-22-09-58.png)
能量守恒
![](../assets/2022-03-21-22-10-23.png)
各向同性 BRDF相对方位角有关 各向同性因此可以四维变成三维 角度可以不用考虑大小(取绝对值)
![](../assets/2022-03-21-22-10-52.png)

如何描述BRDF
![](../assets/2022-03-21-22-13-35.png)
![](../assets/2022-03-21-22-13-43.png)
各项同性
![](../assets/2022-03-21-22-28-49.png)

p18
渲染高级主题

![](../assets/2022-03-21-22-36-25.png)
![](../assets/2022-03-21-22-36-36.png)
无偏估计 期望与样本相同
有偏 在极限下 收敛 -> 一致
![](../assets/2022-03-21-22-38-08.png)
双向路径追踪 BDPT
![](../assets/2022-03-21-22-38-41.png)
例 不好控制能量集中区域 因此需要双向路径追踪(图右)
![](../assets/2022-03-21-22-39-26.png)
MLT 用统计学采样工具 马尔科夫链 一个样本生成靠近的下一个样本
![](../assets/2022-03-22-10-13-34.png)
![](../assets/2022-03-22-10-13-53.png)
![](../assets/2022-03-22-10-16-02.png)

Photon Mapping 光子映射其中一种
![](../assets/2022-03-22-10-17-13.png)
![](../assets/2022-03-22-10-17-58.png)
![](../assets/2022-03-22-10-18-09.png)
局部密度估计
![](../assets/2022-03-22-10-18-40.png)
足够多光子(无限多) 有偏/一致方法(收敛)
![](../assets/2022-03-22-10-21-48.png)
局部密度估计
![](../assets/2022-03-22-10-22-48.png)

VCM 双向路径追踪和光子追踪 的结合
![](../assets/2022-03-22-10-23-44.png)

实时辐射度算法 光停住的地方->新的光源
![](../assets/2022-03-22-10-27-16.png)
问题:有可能莫名其妙发光 -> 距离平方项 两点距离极近则 亮范围巨大
![](../assets/2022-03-22-10-28-15.png)

Appearance Modeling (外观建模材质) 非表面介质 布料 细节度模型 程序化模型
![](../assets/2022-03-22-10-32-27.png)
![](../assets/2022-03-22-10-33-31.png)
![](../assets/2022-03-22-10-33-40.png)
![](../assets/2022-03-22-10-34-06.png)
光线传播1
![](../assets/2022-03-22-10-36-46.png)
光线传播2
![](../assets/2022-03-22-10-37-17.png)

Marschner model (多次弹射 例如头发渲染)
![](../assets/2022-03-22-10-38-13.png)
人物头发与生物毛发之前的差别
![](../assets/2022-03-22-10-39-49.png)
模拟髓质
![](../assets/2022-03-22-10-40-15.png)
![](../assets/2022-03-22-10-43-08.png)
![](../assets/2022-03-22-10-43-17.png)
双层圆柱模型
![](../assets/2022-03-22-10-43-31.png)
![](../assets/2022-03-22-10-44-06.png)
![](../assets/2022-03-22-10-44-14.png)

Granular Material 颗粒材质
![](../assets/2022-03-22-10-45-36.png)
简化?
![](../assets/2022-03-22-10-46-07.png)

Surface Models 表面模型 例玉石
Subsurface Scattering (次表面散射) 进入物体产生大量散射 
![](../assets/2022-03-22-10-47-39.png)
![](../assets/2022-03-22-10-49-46.png)
近似散射
![](../assets/2022-03-22-10-50-36.png)
应用
![](../assets/2022-03-22-10-52-32.png)

Cloth 布料材质 纤维缠绕交错
![](../assets/2022-03-22-10-52-56.png)
![](../assets/2022-03-22-10-53-38.png)
![](../assets/2022-03-22-10-54-18.png)
![](../assets/2022-03-22-10-55-13.png)

有细节的复杂材质(划痕)
![](../assets/2022-03-22-10-56-08.png)
真实世界并不完美的非光滑材质
![](../assets/2022-03-22-10-56-51.png)

BRDF
![](../assets/2022-03-22-10-57-37.png)

NDF
![](../assets/2022-03-22-10-57-48.png)

渲染效率极低
![](../assets/2022-03-22-10-58-53.png)
![](../assets/2022-03-22-10-59-14.png)
![](../assets/2022-03-22-10-59-35.png)
![](../assets/2022-03-22-10-59-44.png)
![](../assets/2022-03-22-10-59-56.png)
![](../assets/2022-03-22-11-02-11.png)
![](../assets/2022-03-22-11-02-25.png)
波动光学
![](../assets/2022-03-22-11-02-44.png)
![](../assets/2022-03-22-11-03-54.png)
随用随取
![](../assets/2022-03-22-11-04-02.png)
生成噪声
![](../assets/2022-03-22-11-04-20.png)

p19
摄像机 棱镜 光场

Imaging=Synthesis+Capture
小孔成像
![](../assets/2022-03-22-11-10-04.png)
![](../assets/2022-03-22-11-11-20.png)
视场
![](../assets/2022-03-22-11-13-20.png)
焦距
![](../assets/2022-03-22-11-15-18.png)

![](../assets/2022-03-22-11-53-53.png)
![](../assets/2022-03-22-11-54-28.png)
![](../assets/2022-03-22-11-56-14.png)

曝光度 辐射度量学
![](../assets/2022-03-22-11-56-44.png)

f-stop 光圈遮挡 快门开放时间 ISO增益/感光度(后期处理)
![](../assets/2022-03-22-11-58-51.png)
F数越大 光圈越小
开放光圈时间
ISO (放大曝光度也会放大噪声)
![](../assets/2022-03-22-12-00-04.png)
IOS增益 (后期处理)
![](../assets/2022-03-22-12-01-44.png)
F数(光圈直径逆)
![](../assets/2022-03-22-12-02-23.png)
调节曝光度 运动模糊
![](../assets/2022-03-22-12-04-09.png)
运动模糊不一定是坏事(赛车运动模糊看起来快(视觉效果))
![](../assets/2022-03-22-12-06-43.png)
![](../assets/2022-03-22-12-08-29.png)
![](../assets/2022-03-22-12-09-31.png)

快门 高速摄影 更高光圈 ISO
![](../assets/2022-03-22-12-10-10.png)
延时摄影 低光圈 更长曝光时间(产生运动模糊)

薄棱镜近似 实际棱镜
![](../assets/2022-03-22-12-11-52.png)
理想化薄棱镜 (3.可以任意改变焦距 (相机棱镜组))
![](../assets/2022-03-22-12-12-30.png)
物理规律
![](../assets/2022-03-22-12-13-10.png)
物距 相距 焦距 位置关系计算
![](../assets/2022-03-22-12-14-39.png)
高斯薄棱镜(理想化)公式
![](../assets/2022-03-22-12-15-00.png)

CoC 模糊圈 散光圈
![](../assets/2022-03-22-12-16-03.png)
![](../assets/2022-03-22-12-19-07.png)
![](../assets/2022-03-22-12-19-40.png)
![](../assets/2022-03-22-12-19-57.png)
模拟薄棱镜
确定sensor 棱镜属性 大小
定义 物距 根据棱镜公式
    得到 实际
![](../assets/2022-03-22-12-21-30.png)
棱镜->透镜
![](../assets/2022-03-22-12-22-36.png)

Depth of Field 景深(成像清晰的范围)
光圈影响模糊的范围
![](../assets/2022-03-22-12-23-05.png)
原理
![](../assets/2022-03-22-12-23-43.png)
推导
![](../assets/2022-03-22-12-24-33.png)
![](../assets/2022-03-22-12-25-00.png)
光圈越小 景深越大

p20
光场   颜色 感知 光谱

全光函数
![](../assets/2022-03-22-12-33-13.png)
![](../assets/2022-03-22-12-33-25.png)
引入波长
![](../assets/2022-03-22-12-33-47.png)
扩展时间
![](../assets/2022-03-22-12-33-57.png)
摄像机位置三位移动 (全息)
![](../assets/2022-03-22-12-34-18.png)
任何时间任何位置任何方向(世界七维度)
![](../assets/2022-03-22-12-34-38.png)
![](../assets/2022-03-22-12-35-35.png)
![](../assets/2022-03-22-12-35-40.png)
包围盒光可逆性 看向物体的表达
![](../assets/2022-03-22-12-36-23.png)
观测点能量(黑盒 记录光场)
![](../assets/2022-03-22-12-38-20.png)
四维函数定义平面
![](../assets/2022-03-22-12-39-45.png)
![](../assets/2022-03-22-12-40-41.png)
感光 不同方向上看到的irrdiance
![](../assets/2022-03-22-12-42-57.png)

光场照相机 微透镜 (后期重新聚焦)
![](../assets/2022-03-22-12-45-41.png)
光场 原理
![](../assets/2022-03-22-12-47-19.png)
还原成普通的照片
![](../assets/2022-03-22-12-49-13.png)
![](../assets/2022-03-22-12-49-51.png)
出现问题 低分辨率 高成本 位置信息丢失很多(各方面权衡)
![](../assets/2022-03-22-12-51-46.png)

Physical Basisi of Color
![](../assets/2022-03-22-12-53-06.png)
光谱
![](../assets/2022-03-22-12-53-18.png)
SPD
![](../assets/2022-03-22-12-53-37.png)
![](../assets/2022-03-22-12-54-09.png)
![](../assets/2022-03-22-12-54-31.png)

颜色感知
![](../assets/2022-03-22-12-55-17.png)
![](../assets/2022-03-22-12-55-35.png)
![](../assets/2022-03-22-12-56-06.png)
S M L 波长感知分类
![](../assets/2022-03-22-12-56-24.png)
![](../assets/2022-03-22-12-56-53.png)
![](../assets/2022-03-22-12-57-13.png)
![](../assets/2022-03-22-12-57-58.png)

同色异谱
![](../assets/2022-03-22-12-58-15.png)
![](../assets/2022-03-22-12-58-28.png)
![](../assets/2022-03-22-12-58-36.png)

颜色混合 加色系统RGB
![](../assets/2022-03-22-12-59-02.png)
线性组合颜色
![](../assets/2022-03-22-12-59-19.png)
![](../assets/2022-03-22-12-59-24.png)
减色系统
![](../assets/2022-03-22-12-59-39.png)

CIE RGB
![](../assets/2022-03-22-12-59-59.png)
![](../assets/2022-03-22-13-00-21.png)
![](../assets/2022-03-22-13-00-51.png)

颜色空间 
RGB
![](../assets/2022-03-22-13-01-39.png)
CIE XYZ
![](../assets/2022-03-22-13-01-52.png)
归一化
![](../assets/2022-03-22-13-02-27.png)
![](../assets/2022-03-22-13-03-09.png)
![](../assets/2022-03-22-13-03-31.png)
![](../assets/2022-03-22-13-03-37.png)

其他颜色空间 HSV 颜色拾取器
![](../assets/2022-03-22-13-04-28.png)
![](../assets/2022-03-22-13-04-48.png)
LAB
![](../assets/2022-03-22-13-05-16.png)
互补色
![](../assets/2022-03-22-13-05-27.png)
![](../assets/2022-03-22-13-05-35.png)
人脑自动补色
![](../assets/2022-03-22-13-06-41.png)
颜色一样
![](../assets/2022-03-22-13-07-03.png)
颜色欺骗
![](../assets/2022-03-22-13-07-14.png)
检测系统 (多用黑色 但出黑色以省成本)
![](../assets/2022-03-22-13-07-26.png)

p21
动画与模拟

动画形成
![](../assets/2022-03-22-13-11-48.png)

关键帧动画(补充过渡)
![](../assets/2022-03-22-13-15-43.png)
插值技术
![](../assets/2022-03-22-13-16-43.png)
![](../assets/2022-03-22-13-17-15.png)

物理模拟/仿真 F=ma
![](../assets/2022-03-22-13-18-09.png)

质点弹簧系统 Example: Mass Spring System
质点联系弹簧
![](../assets/2022-03-22-13-20-45.png)
l 正常长度
![](../assets/2022-03-22-13-21-14.png) 
物理仿真模拟记号 x点=一介导数 x2点=二阶导数
问题:引起所有都会停下
![](../assets/2022-03-22-16-07-32.png)
AB同步运动 相对关系
![](../assets/2022-03-22-16-08-04.png)
分子模型(抽象简化)
![](../assets/2022-03-22-16-12-28.png)
![](../assets/2022-03-22-16-12-42.png)
加入红线弱连接 引起弹簧变化(结构更好)
![](../assets/2022-03-22-16-16-00.png)

粒子系统 建模 定义受到的力 模拟效果
![](../assets/2022-03-22-16-18-08.png)
![](../assets/2022-03-22-16-18-21.png)
各种力
![](../assets/2022-03-22-16-19-01.png)
![](../assets/2022-03-22-16-21-49.png)

运动学
![](../assets/2022-03-22-16-22-30.png)
![](../assets/2022-03-22-16-27-13.png)
![](../assets/2022-03-22-16-28-01.png)
问题
![](../assets/2022-03-22-16-28-16.png)
![](../assets/2022-03-22-16-28-22.png)
![](../assets/2022-03-22-16-28-39.png)

Rigging
![](../assets/2022-03-22-16-29-28.png)
![](../assets/2022-03-22-16-29-38.png)
![](../assets/2022-03-22-16-30-22.png)

Motion Capture 动作捕捉
![](../assets/2022-03-22-16-30-56.png)
![](../assets/2022-03-22-16-31-11.png)
![](../assets/2022-03-22-16-32-04.png)
![](../assets/2022-03-22-16-32-41.png)

p22
动画 仿真

速度场
![](../assets/2022-03-22-16-37-35.png)
一阶常微分方程
![](../assets/2022-03-22-16-38-20.png)
何解
![](../assets/2022-03-22-16-38-39.png)
误差?
![](../assets/2022-03-22-16-40-01.png)
稳定性?
![](../assets/2022-03-22-16-40-19.png)
![](../assets/2022-03-22-16-41-11.png)

若干方法
![](../assets/2022-03-22-16-41-51.png)

中点法 (用两次模拟欧拉)
![](../assets/2022-03-22-16-42-02.png)
多了个二次 (抛物线模拟方法)
![](../assets/2022-03-22-16-42-46.png)

自适应
![](../assets/2022-03-22-16-44-08.png)

隐式欧拉
![](../assets/2022-03-22-16-44-28.png) 
![](../assets/2022-03-22-16-45-02.png)

如何定义稳定性? 如何减少误差? 隐式欧拉
![](../assets/2022-03-22-16-48-03.png)

Runge-Kutta方法 常微分方程解法
![](../assets/2022-03-22-16-53-20.png)
![](../assets/2022-03-22-16-54-14.png)

刚体模拟 (不会形变) 位置 朝向 速度 角速度
![](../assets/2022-03-22-16-56-57.png)

Fluid Simulation 流体 水体不可压缩
![](../assets/2022-03-22-16-59-54.png)

拉格朗日-质点法 欧拉-网格法
![](../assets/2022-03-22-17-05-55.png)

MPM 尽快模拟
![](../assets/2022-03-22-17-06-57.png)
